(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{203:function(e,t,r){"use strict";var n,o=r(1),c=(r(12),r(72),r(42),r(90),r(9),r(25),r(16)),l=r.n(c),d=["/login","/logout","/forgot","/login/","/logout/","/forgot/","/shettle","/shettle/","/shettle/process","/shettle/process/"],f=l.a.get("token"),m=l.a.get("refresh_token"),h=l.a.get("exp"),v=new AbortController,w=v.signal;function x(){return x=Object(o.a)(regeneratorRuntime.mark(function e(t){var r,c,x,y,k;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k=function(){return(k=Object(o.a)(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h=JSON.parse(h),!((new Date).getTime()>h.access_token)){e.next=2;break}return t={access_token:f,refresh_token:m},e.next=1,c.dispatch("modules/auth/storeAuth/refresh",t);case 1:r=e.sent,l.a.set("token",r.values.access_token),l.a.set("refresh_token",r.values.refresh_token),f=r.values.access_token,m=r.values.refresh_token;case 2:e.next=4;break;case 3:e.prev=3,e.catch(0),[void 0,"",null].includes(f)||(v.abort("access token was expired"),window.location.href="/logout?type=token");case 4:case"end":return e.stop()}},e,null,[[0,3]])}))).apply(this,arguments)},y=function(){return k.apply(this,arguments)},r=t.app,c=t.store,x=t.route,!d.includes(x.path)){e.next=1;break}return e.abrupt("return",!0);case 1:return e.next=2,y();case 2:r.$axios.defaults.baseURL="https://devapi.soulparking.co.id",r.$axios.setHeader("accept-encoding",null),r.$axios.setHeader("Content-Type","application/json"),r.$axios.setHeader("Authorization","Bearer "+f),r.$axios.onRequest(function(e){return e.signal=w,e}),r.$axios.onError(function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t.response){e.next=3;break}if(401!==t.response.status){e.next=1;break}throw l.a.set("fallback_url",window.$nuxt.$route.path),l.a.remove("token"),n={response:{status:401,data:{message:"Anda tidak memiliki akses untuk mengakses laman ini",values:""}}},v.abort("access token was expired"),window.location.href="/logout?type=token",n;case 1:return e.abrupt("return",Promise.reject(t));case 2:e.next=4;break;case 3:throw{response:{status:500,data:{message:"Terdapat Gangguan Pada Server",values:""}}};case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}},e)})),x.apply(this,arguments)}t.a=function(e){return x.apply(this,arguments)}},204:function(e,t,r){"use strict";var n=r(2),o=r(418),c=r.n(o);n.default.use(c.a)},205:function(e,t,r){"use strict";var n=r(2),o=r(419);n.default.use(o.default)},207:function(e,t,r){"use strict";t.a=function(e){var t=e.app;var r=function(path){var e;null==(e=window.parent)||e.postMessage({type:"legacy:navigate",path:path,mode:"STAGING"},"*")};"complete"===document.readyState?r(t.router.currentRoute.fullPath):window.addEventListener("load",function(){r(t.router.currentRoute.fullPath)}),t.router.afterEach(function(e,t){e.fullPath!==t.fullPath&&r(e.fullPath)}),window.addEventListener("message",function(e){var r=e.data||{},n=r.type,path=r.path;"host:navigate"===n&&"string"==typeof path&&t.router.currentRoute.fullPath!==path&&t.router.push(path)})}},208:function(e,t,r){"use strict";var n=r(1),o=(r(12),r(59),r(461),r(111),r(72),r(51),r(127),r(69),r(61),r(432),r(433),r(434),r(191),r(42),r(58),r(253),r(90),r(9),r(165),r(31),r(50),r(110),r(73),r(220),r(470),r(435),r(436),r(437),r(438),r(439),r(440),r(441),r(442),r(443),r(444),r(445),r(446),r(447),r(448),r(449),r(450),r(451),r(452),r(453),r(454),r(455),r(456),r(457),r(458),r(128),r(25),r(420)),c=r(0),l=r.n(c),d=r(160),f=r.n(d),m=r(16),h=r.n(m),v=r(421),w={removeSymbols:function(text){return text.replace(/[^\w ]/g,"")},removeNumber:function(text){return text.replace(/[^a-zA-z ]/g,"")},removeLetter:function(text){return text.replace(/[^0-9 ]/g,"")},removeSpace:function(text){return text.replace(/\s/g,"")},mergeBaseAssetUrl:function(path){return"https://spn-gate.s3.ap-southeast-1.amazonaws.com/"+path},mergeAssetUrl:function(path){return"https://spn-mgmt.s3.ap-southeast-1.amazonaws.com/assets/mgmt/images/"+path},getBaseAssetUrl:function(){return"https://spn-gate.s3.ap-southeast-1.amazonaws.com"},getAssetUrl:function(){return"https://spn-mgmt.s3.ap-southeast-1.amazonaws.com/assets/mgmt/images"},getPrimaryColor:function(){return""},convertToRupiah:function(e){if(!e)return"0";for(var t=(e=e.toString())[0]&&"-"===e[0],r="",n=(e=e.replace(/[^0-9]/g,"")).length;n>=0;n-=3){var o,c=null!=(o=n-3)?o:0;c<0&&(c=0),r=e.substring(c,n)+r,c>0&&(r="."+r)}return t&&(r="-"+r),r},convertToNumber:function(e){return e.length>0?parseInt(e.replace(/,.*|[^0-9]/g,""),10):e},convertMonthToString:function(e){switch(void 0===e&&(e="00"),e=e.toString()){case"01":return"Januari";case"02":return"Februari";case"03":return"Maret";case"04":return"April";case"05":return"Mei";case"06":return"Juni";case"07":return"Juli";case"08":return"Agustus";case"09":return"September";case"10":return"Oktober";case"11":return"November";case"12":return"Desember";default:return"Bulan tidak terdefinisi"}},convertDataURItoBlob:function(e){for(var t=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),o=new Uint8Array(n),i=0;i<t.length;i++)o[i]=t.charCodeAt(i);return new Blob([n],{type:r})},generateUUID:function(){return o.a.v4()},generateFilePathPreSigned:function(e,t,r){void 0===e&&(e=""),void 0===t&&(t="jpg"),void 0===r&&(r="");var n=e+"/";return n+=""+r+this.generateUUID()+"."+t},fireToast:function(title,e,content,t,r){void 0===title&&(title="berhasil"),void 0===e&&(e="success"),void 0===content&&(content="berhasil memperbarui data"),void 0===t&&(t=""),void 0===r&&(r=3e3),t||(t=window.$nuxt.$route.path);var n={title:title,type:e,content:content,duration:r,opener:t};return window.$nuxt.$store.dispatch("modules/utility/storeUtility/setAlert",n),n},formatListParameterPayload:function(e,t){return Array.isArray(e)?e.map(function(e){return t?e[t]:e}).join(","):""},getSpotInfo:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e||(e=t.getSpotId()),r.next=1,window.$nuxt.$store.state.modules.spot.storeSpot.currentSpot;case 1:if(!(n=r.sent).id){r.next=2;break}return r.abrupt("return",n);case 2:return r.next=3,window.$nuxt.$store.dispatch("modules/spot/storeSpot/getSpotDetail",{id:e});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},r)}))()},getSpotMembershipType:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e||(e=t.getSpotId()),r.next=1,window.$nuxt.$store.state.modules.spot.storeSpot.currentSpot;case 1:if((n=r.sent).id){r.next=3;break}return r.next=2,window.$nuxt.$store.dispatch("modules/spot/storeSpot/getSpotDetail",{id:e});case 2:n=r.sent;case 3:if(!(n.additional_information&&n.additional_information.membership_type&&n.additional_information.membership_type.value)){r.next=4;break}return r.abrupt("return",n.additional_information.membership_type.value);case 4:return r.abrupt("return","");case 5:case"end":return r.stop()}},r)}))()},getSpotId:function(){try{return JSON.parse(h.a.get("selected_spots")).value}catch(e){alert("here getSpotId! ")}},getCompanyId:function(){try{return JSON.parse(h.a.get("selected_spots")).company}catch(e){alert("here getCompanyId! ")}},getSelectedSpot:function(){try{return JSON.parse(h.a.get("selected_spots"))}catch(e){alert("here getSelectedSpot! ")}},getUserId:function(){try{return JSON.parse(h.a.get("user")).id}catch(e){alert("here getUserId! ")}},getUserRole:function(){try{return JSON.parse(h.a.get("user")).type}catch(e){alert("here getUserRole! ")}},getUserLoggedIn:function(){try{return JSON.parse(h.a.get("user"))}catch(e){window.location.href="/logout?type=fault"}},setCookie:function(e,data){return h.a.set(e,data),!0},unsetCookie:function(e){return h.a.remove(e),!0},getCookie:function(e){return h.a.get(e)},formatVehicleOptions:function(e){var t=[];for(var code in e)e[code].length>0&&e[code].forEach(function(e){t.push({text:e.name,value:e.code,id:e.id,alias:e.alias})});return t},formatReportField:function(label,data){try{if(!data||!label)return[];if(!Array.isArray(data))return[];var e={};return data.forEach(function(t){e[label+"_"+t.alias]=t.values}),e}catch(e){return window.$nuxt.$sentry.captureMessage("Fault error on formatReportField"),[]}},scrollToTop:function(){window.scrollTo(0,0)},findConstantData:function(e,t,r){var n=t.find(function(t){return t[e]===r});return n||{}},listEmptyDataFormats:function(){return["0",0,"","",null,void 0]},formatLocalTimezone:function(time,e,t){return void 0===e&&(e="DD-MM-YYYY"),void 0===t&&(t=""),time?(t||(t=this.getSpotTimezone()),time=parseInt(time),f()(time).tz(t).format(e)):"-"},dateUTCToLocal:function(e,t,r){if(void 0===t&&(t="DD-MM-YYYY"),void 0===r&&(r=""),!e)return"-";var n=new Date(e).toLocaleString("en-UK",{day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),o=new Date(n+" UTC");return this.formatLocalTimezone(o.getTime(),null!=t?t:"DD-MM-YYYY",null!=r?r:"")},formatDateMoment:function(e,t){if(!e)return"-";try{return l()(e).format(t)}catch(e){return this.$sentry.captureException("error function formatDateMoment"),"-"}},setUpperCaseLetter:function(e){return e?e.toUpperCase():""},setLowerCaseLetter:function(e){return e?e.toLocaleLowerCase():""},momentAddDate:function(e,t,r,n){return void 0===n&&(n="DD-MM-YYYY"),e?l()(e).add(parseInt(t),r).format(n):l()().add(parseInt(t),r).format(n)},momentDateDiff:function(e,t,r,n){return void 0===n&&(n="DD-MM-YYYY"),e=l()(e).format(n),t=l()(t).format(n),l()(e).diff(t,r)},getOptionProductMembership:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark(function t(){var r,data,n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=1,window.$nuxt.$store.state.modules.product.storeProduct.PRODUCT_LIST;case 1:if((data=t.sent)&&data.values&&data.values.length){t.next=3;break}return n=(n=JSON.parse(h.a.get("selected_spots"))).value,o={spot_id:n,filter:[{key:"type",value:"NOT_CASHIER"},{key:"status",value:!0}],pagination:{current_page:1,per_page:1e3},order:{}},t.next=2,window.$nuxt.$store.dispatch("modules/product/storeProduct/getMembershipProduct",o);case 2:data=t.sent;case 3:if(null==(r=data)||null==(r=r.values)||!r.length){t.next=4;break}return window.$nuxt.$store.commit("modules/product/storeProduct/SET_PRODUCT",data),t.abrupt("return",data.values.map(function(t){return e.formatProductOption(t)}));case 4:return t.abrupt("return",[]);case 5:case"end":return t.stop()}},t)}))()},isProductAvailable:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark(function r(){var n,o,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=!1,r.prev=1,o={spot_id:t.getSpotId(),membership_id:e},r.next=2,window.$nuxt.$store.dispatch("modules/product/storeProduct/getMembershipProductDetail",o);case 2:(c=r.sent)&&(c.limit?c.availability&&(n=!0):n=!0),r.next=4;break;case 3:r.prev=3,r.catch(1),t.fireToast("Gagal memuat ketersediaan produk","primary","Sistem gagal mendapatkan data produk. Silakan muat ulang halaman ini");case 4:return r.abrupt("return",n);case 5:case"end":return r.stop()}},r,null,[[1,3]])}))()},formatProductOption:function(e){return{id:e.id,name:e.name+" - Rp "+this.convertToRupiah(e.price),price:e.price,is_complimentary:"YES"===e.is_complimentary}},getMembershipStatus:function(e,t){e=1e3*parseInt(f()(e).tz(this.getSpotTimezone()).unix()),t=1e3*parseInt(f()(t).tz(this.getSpotTimezone()).unix());var r=new Date;return e>(r=parseInt(r.getTime()))?{text:"Belum Aktif",type:"dark"}:t>=r?{text:"Aktif",type:"success"}:{text:"Kadaluarsa",type:"danger"}},convertLabelName:function(e,t){void 0===e&&(e=""),void 0===t&&(t="_");try{var r="";return e.split(t).forEach(function(e){r+=""+e[0].toUpperCase()+e.slice(1)+" "}),r.trim()}catch(e){window.$nuxt.$sentry.captureMessage("fault error on convertLabelName")}},readCSVFile:function(e){if(!e)return[];try{for(var t=e.split("\r"),r=[],n=t[0].split(","),i=1;i<t.length;i++){for(var o={},c=t[i].split(","),l=0;l<n.length;l++)l===n.length-1&&(c[l]=c[l].slice(0,-1)),o[n[l]]=c[l];r.push(o)}return r}catch(e){return window.$nuxt.$sentry.captureMessage("fault error on readCSVFile"),[]}},convertCSVJSON:function(input){var e=(input=JSON.stringify(input)).split("\n"),header=e[0].split(",");return e.slice(1).map(function(line){var e=line.split(",");return Object.fromEntries(header.map(function(t,i){return[t,e[i]]}))})},formatOddEventClass:function(e,t,r){try{return(r+(e*t-1))%2==0?"odd":"even"}catch(e){return window.$nuxt.$sentry.captureMessage("fault error on formatOddEventClass"),""}},checkNullableData:function(data){if(void 0===data)return window.$nuxt.$sentry.captureMessage("unexpected data format in checkNullableData, params send undefined please check ASAP"),!0;try{return!!["0",0,"","",null,void 0].includes(data)}catch(e){return window.$nuxt.$sentry.captureMessage("Fault error on checkNullableData"),!0}},encodeReportFilterUrl:function(data){if(void 0===data&&(data=[]),data.length<1)return"";try{return""+data.map(function(e){return e.value}).join(",")}catch(e){throw window.$nuxt.$sentry.captureMessage("Fault error on encodeReportUrl"),this.fireToast("Gagal","error","Gagal membuat request untuk mengirim report"),e}},getRoleByType:function(e){try{return e?this.findConstantData("value",v.a.type(),e).text:"Role tidak terdefinisi"}catch(e){return window.$nuxt.$sentry.captureMessage("Fault error on getRoleByType"),this.fireToast("Gagal","error","Gagal mendapat role user request"),"Role tidak terdefinisi"}},copyObject:function(object){if("object"==typeof object)try{return JSON.parse(JSON.stringify(object))}catch(e){throw window.$nuxt.$sentry.captureMessage("Fault error utility copyObject"),e}},getVehicle:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark(function t(){var r,n,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=1,window.$nuxt.$store.state.modules.vehicle.storeVehicle.VEHICLE_GROUP;case 1:if(r=t.sent){t.next=4;break}return t.next=2,e.getSpotId();case 2:return n=t.sent,t.next=3,window.$nuxt.$store.dispatch("modules/vehicle/storeVehicle/getVehicle",{spot_id:n});case 3:r=t.sent;case 4:return t.abrupt("return",JSON.parse(JSON.stringify(r)));case 5:throw t.prev=5,o=t.catch(0),window.$nuxt.$sentry.captureMessage("Fault error utility getVehicle"),o;case 6:case"end":return t.stop()}},t,null,[[0,5]])}))()},getFormattedVehicle:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark(function t(){var r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=1,window.$nuxt.$store.state.modules.vehicle.storeVehicle.VEHICLE;case 1:if(r=t.sent){t.next=3;break}return r=[],t.next=2,e.getVehicle();case 2:r=t.sent,r=e.formatVehicleOptions(r),window.$nuxt.$store.dispatch("modules/vehicle/storeVehicle/storeVehicle",r);case 3:return t.abrupt("return",r);case 4:throw t.prev=4,n=t.catch(0),window.$nuxt.$sentry.captureMessage("Fault error utility getFormattedVehicle"),n;case 5:case"end":return t.stop()}},t,null,[[0,4]])}))()},getVehicleMap:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark(function t(){var map,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=1,window.$nuxt.$store.state.modules.vehicle.storeVehicle.VEHICLE_MAP;case 1:if(map=t.sent){t.next=3;break}return map={},t.next=2,e.getFormattedVehicle();case 2:t.sent.forEach(function(e){map[e.value]=e.text}),window.$nuxt.$store.dispatch("modules/vehicle/storeVehicle/mapVehicle",map);case 3:return t.abrupt("return",map);case 4:throw t.prev=4,r=t.catch(0),window.$nuxt.$sentry.captureMessage("Fault error utility getVehicleMap"),r;case 5:case"end":return t.stop()}},t,null,[[0,4]])}))()},setErrorContextSentry:function(object,e,t){void 0===t&&(t="error-detail");try{var r={message:"",name:"",origin:""};return r=object.hasOwnProperty("response")?{message:object.response.hasOwnProperty("data")?object.response.data.message:object.response.statusText+" - "+object.response.status,name:object.response.statusText+" - "+object.response.status,origin:e}:{message:object.message,name:object.name,origin:e},window.$nuxt.$sentry.setContext(t,{message:r.message,name:r.name,origin:r.origin}),r}catch(e){console.log(e),window.$nuxt.$sentry.captureMessage("error function setErrorContextSentry in utilities, fix bugs ASAP")}},processEliminateArrayList:function(source,e,t){void 0===source&&(source=[]),void 0===e&&(e=[]),void 0===t&&(t="value");try{return source.filter(function(r){return!e.includes(r[t])})}catch(e){this.setErrorContextSentry(e),window.$nuxt.$sentry.captureMessage("error processEliminateArrayList in utilities"),window.location.href="/error/500"}},compareTwoString:function(source,e){try{return(source=String(source))===(e=String(e))}catch(e){this.setErrorContextSentry(e),window.$nuxt.$sentry.captureMessage("error compareTwoString in utilities")}},getSpotTimezone:function(){try{var e;return alert("timezone"),null!=(e=selected_spot.timezone)?e:"Asia/Jakarta"}catch(e){this.setErrorContextSentry(e),window.$nuxt.$sentry.captureMessage("error getSpotTimezone in utilities")}},generateChartColor:function(e){void 0===e&&(e=null);var t=[this.getPrimaryColor(),"#74788d","#5fa2f4","#5abf78","#6983aa","#e97171","#ede682","#ba7967","#f1c5c5","#f69e7b"];return null!==e?t[e]:t},formatOptionsSelect:function(data,e,t){return void 0===e&&(e="id"),void 0===t&&(t="name"),Array.isArray(data)?data.map(function(r){return{text:r[""+t],value:r[""+e]}}):[]}},x=(r(70),r(71),r(162)),y={},span={},k={initTracer:function(e,t){y[""+e]=x.v({name:e,op:"mark",tags:t})},addLoggerUiRender:function(e){var t=e.context,r=e.description,data=e.data;this.addLoggerOther({context:t,description:r,data:data,op:"ui.render"})},addLoggerUiClick:function(e){var t=e.context,r=e.description,data=e.data;this.addLoggerOther({context:t,description:r,data:data,op:"ui.action.click"})},addLoggerUiInput:function(e){var t=e.context,r=e.description,data=e.data;this.addLoggerOther({context:t,description:r,data:data,op:"ui.task"})},addLoggerFunction:function(e){var t=e.context,r=e.description,data=e.data;this.addLoggerOther({context:t,description:r,data:data,op:"function"})},addLoggerAPI:function(e){var t=e.context,r=e.description,data=e.data;this.addLoggerOther({context:t,description:r,data:data,op:"http.client"})},addLoggerMark:function(e){var t=e.context,r=e.description,data=e.data;this.addLoggerOther({context:t,description:r,data:data,op:"mark"})},addLoggerOther:function(e){var t=e.context,r=e.description,data=e.data,n=e.operation;y[""+t]&&(span[""+r]=y[""+t].startChild({op:n,description:r,data:data}))},setStatusLogger:function(e,t){span[""+e]&&span[""+e].finish()},setStatusTracer:function(e,t){y[""+e]&&y[""+e].finish()},finishLogger:function(e){span[""+e]&&span[""+e].finish()},finishTracer:function(e){y[""+e]&&y[""+e].finish()}};t.a=function(e,t){e.app;t("utility",w),t("logger",k)}}}]);