(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{904:function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return c});var n,o=r(1),d=(r(12),r(58),r(9),r(41),r(25),{components:{PlainModal:function(){return Promise.all([r.e(1),r.e(2),r.e(4),r.e(7),r.e(5)]).then(r.bind(null,886))},SquareCard:function(){return r.e(3).then(r.bind(null,887))},ActiveButton:function(){return r.e(0).then(r.bind(null,885))},ContentSpan:function(){return r.e(10).then(r.bind(null,888))},QrcodeStream:r(827).QrcodeStream},props:(n={id:{default:"modal-scanner"},test_id:{default:""}},n.test_id={default:"modal-scanner"},n.value={default:!1,type:Boolean},n.additional_class_scanner={default:""},n.has_cancel_button={default:!1},n.cancel_button_text={default:"Batal"},n.cancel_button_variant={default:"primary"},n.cancel_button_type={default:"outline"},n),data:function(){return{decoded_qr:"",helper:{qrcode:{is_error:"",is_loading_camera:!0}}}},computed:{local_value:{get:function(){return this.decoded_qr="",this.value},set:function(e){this.toggleModal(e)}}},methods:{toggleModal:function(e){this.$emit("update",this.decoded_qr),this.$emit("input",e)},processDecodingQR:function(e){this.decoded_qr=e,this.decoded_qr&&this.toggleModal(!1)},processInitializeQR:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t.helper.qrcode.is_loading_camera=!0,r.prev=1,r.next=2,e;case 2:t.helper.qrcode.is_error="",t.helper.qrcode.is_loading_camera=!1,r.next=4;break;case 3:r.prev=3,"NotAllowedError"===(n=r.catch(1)).name?t.helper.qrcode.is_error="ERROR: mohon izinkan akses kamera pada browser anda.":"NotFoundError"===n.name?t.helper.qrcode.is_error="ERROR: kamera pada perangkat anda tidak terdeteksi":"NotSupportedError"===n.name?t.helper.qrcode.is_error="ERROR: website tidak aman, mohon hubungi team IT.":"NotReadableError"===n.name?t.helper.qrcode.is_error="ERROR: kamera pada perangkat anda sedang sibuk. mohon tutup aplikasi yang menggunakan kamera.":"OverconstrainedError"===n.name?t.helper.qrcode.is_error="ERROR: kamera anda tidak dapat digunakan.":"StreamApiNotSupportedError"===n.name&&(t.helper.qrcode.is_error="ERROR: driver scanner pada sistem tidak dapat digunakan, mohon hubungi team IT."),t.helper.qrcode.is_loading_camera=!1;case 4:case"end":return r.stop()}},r,null,[[1,3]])}))()}}}),l=r(38),c=Object(l.a)(d,function(){var e=this,t=e._self._c;return t("plain-modal",{ref:"modal-"+e.id,attrs:{id:"modal-"+e.id,test_id:"modal-"+(e.test_id?e.test_id:e.id)},model:{value:e.local_value,callback:function(t){e.local_value=t},expression:"local_value"}},[t("square-card",{attrs:{has_shadow:!1}},[e.helper.qrcode.is_error?t("h6",{staticClass:"font-weight-bolder text-danger text-center my-5 py-5"},[t("content-span",{ref:"error-message__"+e.id,attrs:{margin_span:"3vh 0",size:"sm",caption:"",has_animation:!1,id:"error-message__"+e.id,test_id:"error-message__"+(e.test_id?e.test_id:e.id)}}),e._v("\n      "+e._s(this.helper.qrcode.is_error)+"\n    ")],1):e.helper.qrcode.is_loading_camera&&!e.helper.qrcode.is_error?t("h6",{ref:"loader__"+e.id,staticClass:"font-weight-bolder text-orange100 text-center my-5 py-5",attrs:{id:"loader__"+e.id,"data-testid":"loader__"+(e.test_id?e.test_id:e.id)}},[t("content-span",{attrs:{margin_span:"3vh 0",size:"sm",caption:""}}),e._v("\n      Memverifikasi kamera perangkat anda"),t("br"),e._v(" "),t("small",{staticClass:"text-muted"},[e._v("Mohon muat ulang halaman ini apabila terjadi kesalahan")])],1):e._e(),e._v(" "),t("qrcode-stream",{ref:"scanner__"+e.id,style:"visibilty: "+(!e.helper.qrcode.is_loading_camera&&!e.helper.qrcode.is_error)+";"+(e.helper.qrcode.is_loading_camera||e.helper.qrcode.is_error?"height: 0px":""),attrs:{id:"scanner__"+e.id,test_id:"scanner__"+(e.test_id?e.test_id:e.id)},on:{decode:e.processDecodingQR,init:e.processInitializeQR}})],1),e._v(" "),t("b-row",{},[t("b-col",{staticClass:"text-center",attrs:{cols:"12"}},[t("active-button",{ref:"btn-cancel__"+e.id,attrs:{additional_class:"w-100",type:e.cancel_button_type,text:e.cancel_button_text,variant:e.cancel_button_variant,id:"btn-cancel__"+e.id,test_id:"btn-cancel__"+(e.test_id?e.test_id:e.id)},on:{click:function(t){return e.toggleModal()}}})],1)],1)],1)},[],!1,null,null,null).exports}}]);