(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{826:function(t,e,n){"use strict";var r=n(5),o=n(32).findIndex,c=n(169),l="findIndex",d=!0;l in[]&&Array(1)[l](function(){d=!1}),r({target:"Array",proto:!0,forced:d},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(l)},928:function(t,e,n){"use strict";n.r(e);n(70),n(71),n(72),n(110),n(69),n(58),n(9),n(111);var r=n(1),o=(n(12),n(826),n(167),n(41),n(25),n(458)),c={components:{TabBar:function(){return n.e(16).then(n.bind(null,889))},ActiveButton:function(){return n.e(0).then(n.bind(null,885))}},props:{indexContainer:{default:null},corporate:{defaul:function(){return{}}}},data:function(){return{selected:[],helper:{tab:"SINGLE",isSubmitted:!1,isLoading:!1},options:{tab:[{text:"Layanan Satuan",value:"SINGLE"}],product:[],bundle:[]}}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,t.processGetProduct();case 1:return e.next=2,t.processGetPackage();case 2:case"end":return e.stop()}},e)}))()},methods:{getCorporatePackage:o.packageMethods.getCorporatePackage,getCorporateProduct:o.productMethods.getCorporateProduct,processCancelSelection:function(){this.selected=[],this.$emit("cancel")},procesSubmitSelection:function(){this.helper.isSubmitted=!0,this.selected.length>0&&this.$emit("submit",{data:this.selected,text:this.selected.map(function(t){return t.name}).join(" + ")})},processSetSelected:function(t,e){this.selected.includes(e)?this.selected.splice(this.selected.findIndex(function(t){return t.id===e.id}),1):this.selected.push(e)},processGetProduct:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var n,r,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.helper.isLoading=!0,n={filter:[{key:"corporate_type",value:t.corporate.corporate_type},{key:"spot_id",value:t.corporate.spot_id}],pagination:{current_page:1,per_page:1e3}},e.next=1,t.getCorporateProduct(n);case 1:r=e.sent,o=r.values,t.options.product=o,t.helper.isLoading=!1,e.next=3;break;case 2:e.prev=2,c=e.catch(0),t.options.product=[],t.$utility.setErrorContextSentry(c),t.$sentry.captureMessage(c.message+" at processGetProduct in FormOptionsPackage"),t.helper.isLoading=!1;case 3:case"end":return e.stop()}},e,null,[[0,2]])}))()},processGetPackage:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark(function e(){var n,r,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.helper.isLoading=!0,n={filter:[{key:"corporate_type",value:t.corporate.corporate_type},{key:"spot_id",value:t.corporate.spot_id}],pagination:{current_page:1,per_page:1e3}},e.next=1,t.getCorporatePackage(n);case 1:r=e.sent,o=r.values,t.options.bundle=o,t.helper.isLoading=!1,e.next=3;break;case 2:e.prev=2,c=e.catch(0),t.options.bundle=[],t.$utility.setErrorContextSentry(c),t.$sentry.captureMessage(c.message+" at processGetPackage in FormOptionsPackage"),t.helper.isLoading=!1;case 3:case"end":return e.stop()}},e,null,[[0,2]])}))()}}},l=n(38),component=Object(l.a)(c,function(){var t=this,e=t._self._c;return e("div",[e("div",{},[e("p",{staticClass:"font-weight-bold font-size-16"},[t._v("Pilih Layanan")]),t._v(" "),"BUNDLE"===t.helper.tab?e("div",{staticClass:"row py-3"},t._l(t.options.bundle,function(n,r){return e("div",{key:"bundle-"+r,staticClass:"col-12 col-lg-6 p-3 cursor-pointer",attrs:{"data-testid":"bundle-"+r},on:{click:function(e){return t.processSetSelected("BUNDLE",n)}}},[e("div",[t._l(n.package_items,function(n,o){return e("img",{key:"image-"+r+"__"+o,staticClass:"rounded-lg",staticStyle:{"max-height":"128px"},attrs:{src:t.$utility.getBaseAssetUrl()+"/"+n.image_path}})}),t._v(" "),e("div",{staticClass:"d-flex justify-content-between my-2"},[e("p",{staticClass:"my-1 font-size-14 font-weight-bold"},[t._v("\n              "+t._s(n.name)+"\n            ")]),t._v(" "),e("p",{staticClass:"my-1 font-size-14"},[t._v("\n              Rp"+t._s(t.$utility.convertToRupiah(n.total_price))+"\n            ")])]),t._v(" "),e("div",{staticClass:"my-1"},[e("p",{staticClass:"my-1 font-size-12"},[t._v("\n              "+t._s(n.package_items.map(function(t){return t.name}).join("+"))+"\n            ")]),t._v(" "),e("p",{staticClass:"my-1 font-size-1"},[t._v("\n              "+t._s(n.description)+"\n            ")])])],2)])}),0):t._e(),t._v(" "),"SINGLE"===t.helper.tab?e("div",{staticClass:"row"},t._l(t.options.product,function(n,r){return e("div",{key:"product-"+r,staticClass:"col-12 col-lg-4 p-2 cursor-pointer",attrs:{"data-testid":"product-"+r},on:{click:function(e){return t.processSetSelected("SINGLE",n)}}},[e("div",{class:"h-100 rounded-lg p-3 border "+(t.selected.includes(n)?"border-primary bg-primary-90 shadows":"")},[e("img",{staticClass:"img-fluid rounded-lg",attrs:{src:t.$utility.getBaseAssetUrl()+"/"+n.image_path}}),t._v(" "),e("div",{staticClass:"d-flex justify-content-between my-2"},[e("p",{staticClass:"my-1 font-size-14 font-weight-bold"},[t._v("\n              "+t._s(n.name)+"\n            ")]),t._v(" "),e("p",{staticClass:"my-1 font-size-14"},[t._v("\n              Rp"+t._s(t.$utility.convertToRupiah(n.price))+"\n            ")])]),t._v(" "),e("div",{staticClass:"my-1"},[e("p",{staticClass:"my-1 font-size-12"},[t._v("\n              "+t._s(n.alias)+"\n            ")]),t._v(" "),e("p",{staticClass:"my-1 font-size-1"},[t._v("\n              "+t._s(n.description)+"\n            ")])])])])}),0):t._e(),t._v(" "),e("div",{staticClass:"mt-3"},[e("hr"),t._v(" "),e("div",{staticClass:"d-flex justify-content-between w-100"},[e("div",[e("p",{staticClass:"my-1 text-muted font-size-12"},[t._v("Layanan dipilih:")]),t._v(" "),t.selected.length>1?e("p",{staticClass:"my-1 font-weight-bold font-size-14"},[t._v("\n            "+t._s(t.selected.length)+" Layanan\n            "),e("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"bx bx-error-circle",attrs:{title:t.selected.map(function(t){return t.name}).join(", ")}})]):t._e(),t._v(" "),1===t.selected.length?e("p",{staticClass:"my-1 font-weight-bold font-size-14"},[t._v("\n            "+t._s(t.selected[0].name)+"\n          ")]):t._e()]),t._v(" "),e("div",{staticClass:"text-right mt-2"},[e("active-button",{attrs:{additional_class:"px-5",text:"Batal",type:"outline",variant:"secondary"},on:{click:t.processCancelSelection}}),t._v(" "),e("active-button",{attrs:{additional_class:"px-5",text:"Pilih",is_disabled:t.helper.isLoading||t.helper.isSubmitted&&0===t.selected.length},on:{click:t.procesSubmitSelection}}),t._v(" "),t.helper.isSubmitted&&0===t.selected.length?e("p",{staticClass:"font-size-12 text-danger mt-1"},[t._v("\n            Anda belum memilih layanan\n          ")]):t._e()],1)])])])])},[],!1,null,null,null);e.default=component.exports}}]);