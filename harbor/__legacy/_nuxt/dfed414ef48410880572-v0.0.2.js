(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{829:function(e,t,n){"use strict";var r=n(5),o=n(32).findIndex,c=n(168),l="findIndex",d=!0;l in[]&&Array(1)[l](function(){d=!1}),r({target:"Array",proto:!0,forced:d},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),c(l)},931:function(e,t,n){"use strict";n.r(t);n(70),n(71),n(72),n(127),n(69),n(58),n(9),n(111);var r=n(1),o=(n(10),n(829),n(212),n(41),n(25),n(432)),c={components:{TabBar:function(){return n.e(22).then(n.bind(null,892))},ActiveButton:function(){return n.e(0).then(n.bind(null,888))}},props:{indexContainer:{default:null},corporate:{defaul:function(){return{}}}},data:function(){return{selected:[],helper:{tab:"SINGLE",isSubmitted:!1,isLoading:!1},options:{tab:[{text:"Layanan Satuan",value:"SINGLE"}],product:[],bundle:[]}}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=1,e.processGetProduct();case 1:return t.next=2,e.processGetPackage();case 2:case"end":return t.stop()}},t)}))()},methods:{getCorporatePackage:o.packageMethods.getCorporatePackage,getCorporateProduct:o.productMethods.getCorporateProduct,processCancelSelection:function(){this.selected=[],this.$emit("cancel")},procesSubmitSelection:function(){this.helper.isSubmitted=!0,this.selected.length>0&&this.$emit("submit",{data:this.selected,text:this.selected.map(function(e){return e.name}).join(" + ")})},processSetSelected:function(e,t){this.selected.includes(t)?this.selected.splice(this.selected.findIndex(function(e){return e.id===t.id}),1):this.selected.push(t)},processGetProduct:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark(function t(){var n,r,o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.helper.isLoading=!0,n={filter:[{key:"corporate_type",value:e.corporate.corporate_type},{key:"spot_id",value:e.corporate.spot_id}],pagination:{current_page:1,per_page:1e3}},t.next=1,e.getCorporateProduct(n);case 1:r=t.sent,o=r.values,e.options.product=o,e.helper.isLoading=!1,t.next=3;break;case 2:t.prev=2,c=t.catch(0),e.options.product=[],e.$utility.setErrorContextSentry(c),e.$sentry.captureMessage(c.message+" at processGetProduct in FormOptionsPackage"),e.helper.isLoading=!1;case 3:case"end":return t.stop()}},t,null,[[0,2]])}))()},processGetPackage:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark(function t(){var n,r,o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.helper.isLoading=!0,n={filter:[{key:"corporate_type",value:e.corporate.corporate_type},{key:"spot_id",value:e.corporate.spot_id}],pagination:{current_page:1,per_page:1e3}},t.next=1,e.getCorporatePackage(n);case 1:r=t.sent,o=r.values,e.options.bundle=o,e.helper.isLoading=!1,t.next=3;break;case 2:t.prev=2,c=t.catch(0),e.options.bundle=[],e.$utility.setErrorContextSentry(c),e.$sentry.captureMessage(c.message+" at processGetPackage in FormOptionsPackage"),e.helper.isLoading=!1;case 3:case"end":return t.stop()}},t,null,[[0,2]])}))()}}},l=n(38),component=Object(l.a)(c,function(){var e=this,t=e._self._c;return t("div",[t("div",{},[t("p",{staticClass:"font-weight-bold font-size-16"},[e._v("Pilih Layanan")]),e._v(" "),"BUNDLE"===e.helper.tab?t("div",{staticClass:"row py-3"},e._l(e.options.bundle,function(n,r){return t("div",{key:"bundle-"+r,staticClass:"col-12 col-lg-6 p-3 cursor-pointer",on:{click:function(t){return e.processSetSelected("BUNDLE",n)}}},[t("div",[e._l(n.package_items,function(n,o){return t("img",{key:"image-"+r+"__"+o,staticClass:"rounded-lg",staticStyle:{"max-height":"128px"},attrs:{src:e.$utility.getBaseAssetUrl()+"/"+n.image_path}})}),e._v(" "),t("div",{staticClass:"d-flex justify-content-between my-2"},[t("p",{staticClass:"my-1 font-size-14 font-weight-bold"},[e._v("\n              "+e._s(n.name)+"\n            ")]),e._v(" "),t("p",{staticClass:"my-1 font-size-14"},[e._v("\n              Rp"+e._s(e.$utility.convertToRupiah(n.total_price))+"\n            ")])]),e._v(" "),t("div",{staticClass:"my-1"},[t("p",{staticClass:"my-1 font-size-12"},[e._v("\n              "+e._s(n.package_items.map(function(e){return e.name}).join("+"))+"\n            ")]),e._v(" "),t("p",{staticClass:"my-1 font-size-1"},[e._v("\n              "+e._s(n.description)+"\n            ")])])],2)])}),0):e._e(),e._v(" "),"SINGLE"===e.helper.tab?t("div",{staticClass:"row"},e._l(e.options.product,function(n,r){return t("div",{key:"product-"+r,staticClass:"col-12 col-lg-4 p-2 cursor-pointer",on:{click:function(t){return e.processSetSelected("SINGLE",n)}}},[t("div",{class:"h-100 rounded-lg p-3 border "+(e.selected.includes(n)?"border-primary bg-primary-90 shadows":"")},[t("img",{staticClass:"img-fluid rounded-lg",attrs:{src:e.$utility.getBaseAssetUrl()+"/"+n.image_path}}),e._v(" "),t("div",{staticClass:"d-flex justify-content-between my-2"},[t("p",{staticClass:"my-1 font-size-14 font-weight-bold"},[e._v("\n              "+e._s(n.name)+"\n            ")]),e._v(" "),t("p",{staticClass:"my-1 font-size-14"},[e._v("\n              Rp"+e._s(e.$utility.convertToRupiah(n.price))+"\n            ")])]),e._v(" "),t("div",{staticClass:"my-1"},[t("p",{staticClass:"my-1 font-size-12"},[e._v("\n              "+e._s(n.alias)+"\n            ")]),e._v(" "),t("p",{staticClass:"my-1 font-size-1"},[e._v("\n              "+e._s(n.description)+"\n            ")])])])])}),0):e._e(),e._v(" "),t("div",{staticClass:"mt-3"},[t("hr"),e._v(" "),t("div",{staticClass:"d-flex justify-content-between w-100"},[t("div",[t("p",{staticClass:"my-1 text-muted font-size-12"},[e._v("Layanan dipilih:")]),e._v(" "),e.selected.length>1?t("p",{staticClass:"my-1 font-weight-bold font-size-14"},[e._v("\n            "+e._s(e.selected.length)+" Layanan\n            "),t("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"bx bx-error-circle",attrs:{title:e.selected.map(function(e){return e.name}).join(", ")}})]):e._e(),e._v(" "),1===e.selected.length?t("p",{staticClass:"my-1 font-weight-bold font-size-14"},[e._v("\n            "+e._s(e.selected[0].name)+"\n          ")]):e._e()]),e._v(" "),t("div",{staticClass:"text-right mt-2"},[t("active-button",{attrs:{additional_class:"px-5",text:"Batal",type:"outline",variant:"secondary"},on:{click:e.processCancelSelection}}),e._v(" "),t("active-button",{attrs:{additional_class:"px-5",text:"Pilih",is_disabled:e.helper.isLoading||e.helper.isSubmitted&&0===e.selected.length},on:{click:e.procesSubmitSelection}}),e._v(" "),e.helper.isSubmitted&&0===e.selected.length?t("p",{staticClass:"font-size-12 text-danger mt-1"},[e._v("\n            Anda belum memilih layanan\n          ")]):e._e()],1)])])])])},[],!1,null,null,null);t.default=component.exports}}]);