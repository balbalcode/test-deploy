(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{625:function(t,e,n){"use strict";n.d(e,"a",function(){return d}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return h}),n.d(e,"d",function(){return o}),n.d(e,"e",function(){return r});const r="sentry.source",o="sentry.sample_rate",c="sentry.op",h="sentry.origin",d="profile_id"},658:function(t,e,n){"use strict";n.d(e,"a",function(){return v}),n.d(e,"b",function(){return T});var r=n(26),o=n(43),c=n(21),h=n(60),d=n(677),l=n(662),_=n(676),f=n(659);function m(){const span=this.getScope().getSpan();return span?{"sentry-trace":Object(h.g)(span)}:{}}function S(t,e){const n=this.getClient(),c=n&&n.getOptions()||{},h=c.instrumenter||"sentry",d=t.instrumenter||"sentry";h!==d&&(o.a&&r.c.error(`A transaction was started with instrumenter=\`${d}\`, but the SDK is configured with the \`${h}\` instrumenter.\nThe transaction will not be sampled. Please use the ${h} instrumentation to start transactions.`),t.sampled=!1);let l=new f.a(t,this);return l=Object(_.b)(l,c,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...e}),l.isRecording()&&l.initSpanRecorder(c._experiments&&c._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",l),l}function T(t,e,n,r,o,c,h,d=!1){const f=t.getClient(),m=f&&f.getOptions()||{};let S=new l.a(e,t,n,r,h,o,d);return S=Object(_.b)(S,m,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...c}),S.isRecording()&&S.initSpanRecorder(m._experiments&&m._experiments.maxSpans),f&&f.emit&&f.emit("startTransaction",S),S}function v(){const t=Object(c.f)();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=S),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=m),Object(d.a)())}},662:function(t,e,n){"use strict";n.d(e,"a",function(){return S}),n.d(e,"b",function(){return _});var r=n(26),o=n(79),c=n(43),h=n(60),d=n(660),l=n(659);const _={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},f=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class m extends d.b{constructor(t,e,n,r){super(r),this._pushActivity=t,this._popActivity=e,this.transactionSpanId=n}add(span){if(span.spanContext().spanId!==this.transactionSpanId){const t=span.end;span.end=(...e)=>(this._popActivity(span.spanContext().spanId),t.apply(span,e)),void 0===Object(h.e)(span).timestamp&&this._pushActivity(span.spanContext().spanId)}super.add(span)}}class S extends l.a{constructor(t,e,n=_.idleTimeout,o=_.finalTimeout,h=_.heartbeatInterval,d=!1,l=!1){super(t,e),this._idleHub=e,this._idleTimeout=n,this._finalTimeout=o,this._heartbeatInterval=h,this._onScope=d,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=f[4],this._autoFinishAllowed=!l,d&&(c.a&&r.c.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),e.getScope().setSpan(this)),l||this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=f[3],this.end())},this._finalTimeout)}end(t){const e=Object(h.d)(t);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){c.a&&r.c.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);for(const t of this._beforeFinishCallbacks)t(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(span=>{if(span.spanContext().spanId===this.spanContext().spanId)return!0;Object(h.e)(span).timestamp||(span.setStatus("cancelled"),span.end(e),c.a&&r.c.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(span,void 0,2)));const{start_timestamp:t,timestamp:n}=Object(h.e)(span),o=t&&t<e,d=(this._finalTimeout+this._idleTimeout)/1e3,l=n&&t&&n-t<d;if(c.a){const t=JSON.stringify(span,void 0,2);o?l||r.c.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):r.c.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return o&&l}),c.a&&r.c.log("[Tracing] flushing IdleTransaction")}else c.a&&r.c.log("[Tracing] No active IdleTransaction");if(this._onScope){const t=this._idleHub.getScope();t.getTransaction()===this&&t.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const e=t=>{this._finished||this._pushActivity(t)},n=t=>{this._finished||this._popActivity(t)};this.spanRecorder=new m(e,n,this.spanContext().spanId,t),c.a&&r.c.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:e}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===e,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=f[5],this.end(t)))}setFinishReason(t){this._finishReason=t}sendAutoFinishSignal(){this._autoFinishAllowed||(c.a&&r.c.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=f[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),c.a&&r.c.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,c.a&&r.c.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(c.a&&r.c.log(`[Tracing] popActivity ${t}`),delete this.activities[t],c.a&&r.c.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const t=Object(o.c)();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=f[5],this.end(t)):this._restartIdleTimeout(t+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?this._autoFinishAllowed&&(c.a&&r.c.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=f[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){c.a&&r.c.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}},674:function(t,e,n){"use strict";n.d(e,"a",function(){return d}),n.d(e,"b",function(){return l});var r=n(26),o=n(43),c=n(162),h=n(21);function d(t,e){!0===e.debug&&(o.a?r.c.enable():Object(r.b)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}));Object(c.l)().update(e.initialScope);const n=new t(e);l(n),function(t){t.init?t.init():t.setupIntegrations&&t.setupIntegrations()}(n)}function l(t){const e=Object(h.c)().getStackTop();e.client=t,e.scope.setClient(t)}},677:function(t,e,n){"use strict";n.d(e,"a",function(){return _});var r=n(860),o=n(861),c=n(26),h=n(43),d=n(642);let l=!1;function _(){l||(l=!0,Object(r.a)(f),Object(o.a)(f))}function f(){const t=Object(d.b)();if(t){const e="internal_error";h.a&&c.c.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}f.tag="sentry_tracingErrorCallback"},678:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(49),o=n(162);class c{constructor(t,e){this._client=t,this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._intervalId=setInterval(()=>this.flush(),1e3*this.flushTimeout),this._intervalId.unref&&this._intervalId.unref(),this._sessionAttrs=e}flush(){const t=this.getSessionAggregates();0!==t.aggregates.length&&(this._pendingAggregates={},this._client.sendSession(t))}getSessionAggregates(){const t=Object.keys(this._pendingAggregates).map(t=>this._pendingAggregates[parseInt(t)]),e={attrs:this._sessionAttrs,aggregates:t};return Object(r.c)(e)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const t=Object(o.l)(),e=t.getRequestSession();e&&e.status&&(this._incrementSessionStatusCount(e.status,new Date),t.setRequestSession(void 0))}_incrementSessionStatusCount(t,e){const n=new Date(e).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};const r=this._pendingAggregates[n];switch(r.started||(r.started=new Date(n).toISOString()),t){case"errored":return r.errored=(r.errored||0)+1,r.errored;case"ok":return r.exited=(r.exited||0)+1,r.exited;default:return r.crashed=(r.crashed||0)+1,r.crashed}}}},707:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(642);function o(t,e,n){const o=Object(r.b)();o&&o.setMeasurement(t,e,n)}},708:function(t,e,n){"use strict";n.d(e,"a",function(){return x});var r=n(579),o=n(867),c=n(26),h=n(17),d=n(654),l=n(679),_=n(43),f=n(162),m=n(779),S=n(678),T=n(658),v=n(60),I=n(133),O=n(210);class x extends d.a{constructor(t){Object(T.a)(),super(t),t._experiments&&t._experiments.metricsAggregator&&(this.metricsAggregator=new m.a(this))}eventFromException(t,e){return Object(r.c)(Object(o.b)(Object(f.k)(),this._options.stackParser,t,e))}eventFromMessage(t,e="info",n){return Object(r.c)(Object(o.a)(this._options.stackParser,t,e,n,this._options.attachStacktrace))}captureException(t,e,n){if(this._options.autoSessionTracking&&this._sessionFlusher&&n){const t=n.getRequestSession();t&&"ok"===t.status&&(t.status="errored")}return super.captureException(t,e,n)}captureEvent(t,e,n){if(this._options.autoSessionTracking&&this._sessionFlusher&&n){if("exception"===(t.type||"exception")&&t.exception&&t.exception.values&&t.exception.values.length>0){const t=n.getRequestSession();t&&"ok"===t.status&&(t.status="errored")}}return super.captureEvent(t,e,n)}close(t){return this._sessionFlusher&&this._sessionFlusher.close(),super.close(t)}initSessionFlusher(){const{release:t,environment:e}=this._options;t?this._sessionFlusher=new S.a(this,{release:t,environment:e}):_.a&&c.c.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}captureCheckIn(t,e,n){const r="checkInId"in t&&t.checkInId?t.checkInId:Object(h.f)();if(!this._isEnabled())return _.a&&c.c.warn("SDK not enabled, will not capture checkin."),r;const o=this.getOptions(),{release:d,environment:f,tunnel:m}=o,S={check_in_id:r,monitor_slug:t.monitorSlug,status:t.status,release:d,environment:f};"duration"in t&&(S.duration=t.duration),e&&(S.monitor_config={schedule:e.schedule,checkin_margin:e.checkinMargin,max_runtime:e.maxRuntime,timezone:e.timezone});const[T,v]=this._getTraceInfoFromScope(n);v&&(S.contexts={trace:v});const I=Object(l.a)(S,T,this.getSdkMetadata(),m,this.getDsn());return _.a&&c.c.info("Sending checkin:",t.monitorSlug,t.status),this._sendEnvelope(I),r}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():_.a&&c.c.warn("Discarded request mode session because autoSessionTracking option was disabled")}_prepareEvent(t,e,n,r){return this._options.platform&&(t.platform=t.platform||this._options.platform),this._options.runtime&&(t.contexts={...t.contexts,runtime:(t.contexts||{}).runtime||this._options.runtime}),this._options.serverName&&(t.server_name=t.server_name||this._options.serverName),super._prepareEvent(t,e,n,r)}_getTraceInfoFromScope(t){if(!t)return[void 0,void 0];const span=t.getSpan();if(span){return[Object(I.a)(span)?Object(O.b)(span):void 0,Object(v.f)(span)]}const{traceId:e,spanId:n,parentSpanId:r,dsc:o}=t.getPropagationContext(),c={trace_id:e,span_id:n,parent_span_id:r};return o?[o,c]:[Object(O.a)(e,this,t),c]}}},712:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(777),o=n(776);function c(t,e){const n={sent_at:(new Date).toISOString()};e&&(n.dsn=Object(r.b)(e));const c=t.map(h);return Object(o.c)(n,c)}function h(span){return[{type:"span"},span]}}}]);