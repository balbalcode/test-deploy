(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{652:function(t,e,n){"use strict";e.a={cut_off_transaction_date:function(t){var e=[{value:"1",text:"Setiap tanggal 1"},{value:"3",text:"Setiap tanggal 3"},{value:"5",text:"Setiap tanggal 5"},{value:"10",text:"Setiap tanggal 10"},{value:"10",text:"Setiap tanggal 15"}];return isFinite(t)?e[t]:e},cut_off_period:function(t){var e=[{value:"1",text:"Setiap bulan"},{value:"3",text:"Setiap 3 bulan"},{value:"5",text:"Setiap 5 bulan"},{value:"10",text:"Setiap 10 bulan"},{value:"12",text:"Setiap 1 tahun"},{value:"24",text:"Setiap 2 tahun"},{value:"36",text:"Setiap 3 tahun"}];return isFinite(t)?e[t]:e},corporate_type:function(t){var e=[{value:"HOTEL",text:"Hotel"},{value:"HOSPITAL",text:"Rumah Sakit"},{value:"DOCKYARD",text:"Pergudangan"},{value:"COMPANY",text:"Perusahaan"}];return isFinite(t)?e[t]:e},VEHICLE_SIZE:function(t){var e=[{value:"20 FEET STANDARD",text:"Kontainer 20 Kaki"},{value:"40 FEET STANDARD",text:"Kontainer 40 Kaki"},{value:"45 FEET HIGH CUBE",text:"Kontainer 45 Kaki"},{value:"40 FEET OPEN SIDE",text:"Kontainer 40 Pembuka Tiap Sisi"}];return isFinite(t)?e[t]:e},VEHICLE_TYPE:function(t){var e=[{value:"GP",text:"Box Umum"},{value:"OPEN_TOP",text:"Model Buka Atas"},{value:"ISO_TANK",text:"Model Tanki"},{value:"FLAT_RACK",text:"Model Rak Datar"}];return isFinite(t)?e[t]:e},VENTILATOR_COUNT:function(t){var e=[{value:"0",text:"Tidak ada ventilator"},{value:"2",text:"2 ventilator"},{value:"4",text:"4 ventilator"}];return isFinite(t)?e[t]:e},PRODUCT_TYPE:function(t){var e=[{value:"CONTAINER",text:"Kontainer"}];return isFinite(t)?e[t]:e},CONTAINER_COLOR:function(t){var e=[{value:"Putih",text:"Putih"},{value:"Hitam",text:"Hitam"},{value:"Merah",text:"Merah"},{value:"Biru",text:"Biru"},{value:"Hijau",text:"Hijau"},{value:"Kuning",text:"Kuning"},{value:"Abu-abu",text:"Abu-abu"},{value:"Perak",text:"Perak"},{value:"Cokelat",text:"Cokelat"},{value:"Oranye",text:"Oranye"}];return isFinite(t)?e[t]:e},CONTAINER_FILL:function(t){var e=[{value:"FILL",text:"Kontainer Dengan Muatan"},{value:"BLANK",text:"Kontainer Tanpa Muatan"}];return isFinite(t)?e[t]:e}}},734:function(t,e,n){t.exports={}},824:function(t,e,n){"use strict";n(734)},930:function(t,e,n){"use strict";n.r(e);var r,o=n(1),c=(n(10),n(59),n(166),n(127),n(69),n(164),n(58),n(90),n(9),n(165),n(41),n(25),n(652)),l=n(432),d={components:(r={DropdownButton:function(){return n.e(21).then(n.bind(null,896))},ModalConfirmation:function(){return n.e(29).then(n.bind(null,897))},ActiveButton:function(){return n.e(0).then(n.bind(null,888))},ContentTableView:function(){return n.e(27).then(n.bind(null,898))},PriceLabel:function(){return n.e(26).then(n.bind(null,899))}},r.ActiveButton=function(){return n.e(0).then(n.bind(null,888))},r.CardPaginationView=function(){return n.e(24).then(n.bind(null,900))},r),props:{is_searching:{default:!1},filter:{default:function(){return{}}},selected:{default:function(){return{}}}},data:function(){return{id:"table-invoice",data:[],selected_id:"",modal:{modal_delete:!1},options:{vehicleType:c.a.VEHICLE_TYPE()},helper:{CORPORATE:{},isLoading:!1,isError:!1},pagination:{per_page:10,current_page:1,total_data:10}}},watch:{is_searching:{handler:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=1;break}return n.next=1,e.passUpdatePagination(1);case 1:case"end":return n.stop()}},n)}))()}}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.helper.CORPORATE=JSON.parse(t.$utility.getCookie("corporate")),e.next=1,t.processGetCorporate();case 1:return e.next=2,t.processGetData();case 2:case"end":return e.stop()}},e)}))()},methods:{getCorporateDetail:l.subscriptionMethods.getCorporateDetail,getCorporateTransaction:l.transactionMethods.getCorporateTransaction,passErrorToParent:function(t){this.$emit("error",{state:!0,message:t})},passEditToParent:function(data){this.$emit("edit",data)},passUpdatePagination:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.pagination.current_page=t,n.next=1,e.processGetData();case 1:case"end":return n.stop()}},n)}))()},setPayloadGet:function(){var t={filter:[{key:"corporate_id",value:this.helper.CORPORATE.id},{key:"spot_id",value:this.helper.CORPORATE.spot_id}],pagination:{current_page:1,per_page:this.pagination.per_page}};return this.filter.dateRange.length>0&&t.filter.push({key:"range",value:this.filter.dateRange[0]+"_"+this.filter.dateRange[1]}),""!==this.filter.value&&t.filter.push({key:this.filter.type,value:this.filter.value}),this.filter.qr,t},processDataContainer:function(t){var e,n,r,o,c=[];return t.map(function(t){if(c.map(function(t){return t.container_code}).indexOf(t.transaction_data.container_code)>-1){var e=c.map(function(t){return t.container_code}).indexOf(t.transaction_data.container_code);c[""+e].data.push(t),c[""+e].total+=parseInt(t.price)}else c.push({container_code:t.transaction_data.container_code,data:[t],total:parseInt(t.price)})}),e=parseInt(c.reduce(function(t,e){return t+e.total},0)),n=parseInt(.11*e),r=1e5*c.length,o=parseInt(this.helper.CORPORATE.admin_charge)+parseInt(e)+parseInt(n)+parseInt(r),{container:c,subTotal:e,serviceTax:n,serviceFee:r,total:o}},formatContainerNumber:function(t){return""+t.map(function(t){return t.container_code}).join(" <br />")},formatContainerFill:function(t){return""+t.map(function(t){return"FILL"===t.data[0].transaction_data.container_fill?"Muatan Terisi":"Muatan Kosong"}).join(" <br />")},formatContainerSpecification:function(t){return""+t.map(function(t){return"Tipe: "+t.data[0].transaction_data.vehicle_size+" | Jenis: "+t.data[0].transaction_data.vehicle_type}).join(" <br />")},formatContainerService:function(t){return""+t.map(function(t){return t.data.length>1?t.data.map(function(t){return t.product_detail.name}).join(" + "):t.data[0].product_detail.name}).join(" <br />")},formatDataContainer:function(data){var t=this;try{this.data=data.map(function(e){var n=t.processDataContainer(e.item_transactions),r=n.container,o=n.subTotal,c=n.serviceTax,l=n.serviceFee,d=n.total;return e.container=r,e.subTotal=o,e.serviceTax=c,e.serviceFee=l,e.total=d,e})}catch(t){this.helper.isError=!0,this.$utility.setErrorContextSentry(t),this.$sentry.captureMessage(t.message+" at formatDataOfficer TableOfficer")}},processGetCorporate:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){var n,data,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.helper.isLoading=!0,t.helper.isError=!1,e.prev=1,n={id:t.helper.CORPORATE.id},e.next=2,t.getCorporateDetail(n);case 2:data=e.sent,t.helper.CORPORATE=Object.assign({},data,{service_fee:1e5}),t.helper.isLoading=!1,e.next=4;break;case 3:e.prev=3,r=e.catch(1),t.helper.isError=!0,t.passErrorToParent(r),t.$utility.setErrorContextSentry(r),t.$sentry.captureMessage(r.message+" at processGetCorporate in FormPaymentMethod"),t.helper.isLoading=!1;case 4:case"end":return e.stop()}},e,null,[[1,3]])}))()},processGetData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){var n,r,o,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.helper.isError=!1,t.helper.isLoading=!0,e.prev=1,n=t.setPayloadGet(),e.next=2,t.getCorporateTransaction(n);case 2:r=e.sent,o=r.values,c=r.total_values,t.formatDataContainer(o),t.pagination.total_data=c,e.next=4;break;case 3:e.prev=3,l=e.catch(1),t.data=[],t.pagination.total_data=0,t.helper.isError=!0,t.passErrorToParent(l),t.$utility.setErrorContextSentry(l),t.$sentry.captureMessage(l.message+" at processGetData in TableTransactionHistory");case 4:t.$emit("ready"),t.helper.isLoading=!1;case 5:case"end":return e.stop()}},e,null,[[1,3]])}))()}}},_=(n(824),n(38)),component=Object(_.a)(d,function(){var t=this,e=t._self._c;return e("div",[e("div",[e("content-table-view",{attrs:{length:t.pagination.total_data,is_loading:t.helper.isLoading,is_eror:t.helper.isError,id:"wrapper__"+t.id,test_id:"wrapper__"+t.id}},[e("div",{staticClass:"table-responsive rounded-top table-freeze mb-0"},[e("table",{staticClass:"table table-striped table-borderless mb-0 custom-tbl"},[e("thead",{staticClass:"thead-freeze bg-gray-70"},[e("tr",{staticClass:"border-bottom-table"},[e("th",{staticClass:"text-dark"},[t._v("\n                No Invoice\n              ")]),t._v(" "),e("th",{staticClass:"text-dark"},[t._v("\n                Payment Status\n              ")]),t._v(" "),e("th",{staticClass:"text-dark"},[t._v("\n                Tanggal Transaksi\n              ")]),t._v(" "),e("th",{staticClass:"text-dark w-300-col"},[t._v("\n                Nomor Kontainer\n              ")]),t._v(" "),e("th",{staticClass:"text-dark w-200-col"},[t._v("\n                Muatan Kontainer\n              ")]),t._v(" "),e("th",{staticClass:"text-dark w-300-col"},[t._v("\n                Spesifikasi Kontainer\n              ")]),t._v(" "),e("th",{staticClass:"text-dark w-300-col"},[t._v("\n                Layanan Kontainer\n              ")]),t._v(" "),e("th",{staticClass:"text-dark"},[t._v("\n                Total Pembayaran\n              ")]),t._v(" "),e("th",{staticClass:"text-dark"},[t._v("\n                Opsi\n              ")])])]),t._v(" "),e("tbody",t._l(t.data,function(n,r){return e("tr",{key:"invoice-"+r},[e("td",[t._v("\n                "+t._s(n.id)+"\n              ")]),t._v(" "),e("td",[e("span",{staticClass:"badge p-2 rounded-pill",style:"\n                  color: "+(n.paid_at?"#027A48":"#B93815")+" !important;\n                  background: "+(n.paid_at?"#ECFDF3":"#FFF4ED")+" !important"},[t._v("\n                  "+t._s(n.paid_at?"Sudah dibayar":"Belum dibayar")+"\n                ")])]),t._v(" "),e("td",[t._v("\n                "+t._s(t.$utility.momentAddDate(n.created_at,"7","hour","DD/MM/YYYY HH:mm:ss"))+"\n              ")]),t._v(" "),e("td",{staticClass:"text-dark"},[e("span",{domProps:{innerHTML:t._s(t.formatContainerNumber(n.container))}})]),t._v(" "),e("td",{staticClass:"text-dark"},[e("span",{domProps:{innerHTML:t._s(t.formatContainerFill(n.container))}})]),t._v(" "),e("td",{staticClass:"text-dark"},[e("span",{domProps:{innerHTML:t._s(t.formatContainerSpecification(n.container))}})]),t._v(" "),e("td",{staticClass:"text-dark"},[e("span",{domProps:{innerHTML:t._s(t.formatContainerService(n.container))}})]),t._v(" "),e("td",{staticClass:"text-dark"},[t._v("\n                "+t._s(t.$utility.convertToRupiah(n.total))+"\n              ")]),t._v(" "),e("td",[e("dropdown-button",{ref:t.id+"__tr-"+r+"__btn-option",refInFor:!0,attrs:{text:"",size:"sm",variant:"gray",type:"outline",additional_class:"p-0",caret:"font-size-20 bx bx-dots-vertical-rounded",has_custom_action:!0,test_id:t.id+"__tr-"+r+"__btn-option"}},[e("active-button",{ref:t.id+"__tr-"+r+"__btn-invoice",refInFor:!0,attrs:{icon:"ic-file-02",icon_size:"16",icon_color:"text-dark",text:"Lihat Invoice",additional_class:"border-0 w-100 text-left  p-2 bg-transparent",align:"rtl",test_id:t.id+"__tr-"+r+"__btn-invoice",id:t.id+"__tr-"+r+"__btn-invoice"},on:{click:function(e){return t.$router.push("/transaction/invoice?id="+n.id)}}}),t._v(" "),e("active-button",{ref:t.id+"__tr-"+r+"__btn-detail",refInFor:!0,attrs:{icon:"ic-file-search-02",icon_size:"16",icon_color:"text-dark",text:"Detail Transaksi",additional_class:"border-0 w-100 text-left  p-2 bg-transparent",align:"rtl",test_id:t.id+"__tr-"+r+"__btn-detail",id:t.id+"__tr-"+r+"__btn-detail"},on:{click:function(e){return t.$router.push("/transaction/detail?id="+n.id)}}})],1)],1)])}),0)])]),t._v(" "),e("div",{staticClass:"w-100"},[e("div",{staticClass:"col-12 text-center text-lg-right"},[e("card-pagination-view",{attrs:{per_page:t.pagination.per_page,total_data:t.pagination.total_data,additional_class:"mt-3",current_page:t.pagination.current_page,id:"pagination_corporate",test_id:t.id+"__pagination"},on:{update:t.passUpdatePagination}})],1)])])],1)])},[],!1,null,"098a7d0d",null);e.default=component.exports}}]);