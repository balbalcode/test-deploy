(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{916:function(e,t,n){"use strict";n.r(t);n(70),n(71),n(109),n(69),n(58),n(9);var r=n(1),o=(n(17),n(89),n(41),n(26),n(459)),c={components:{TabBar:function(){return n.e(14).then(n.bind(null,879))},ActiveButton:function(){return n.e(0).then(n.bind(null,881))}},props:{indexContainer:{default:null}},data:function(){return{selected:{type:"",unit:{}},helper:{CORPORATE:"",tab:"BUNDLE",isLoading:!1},options:{tab:[{text:"Paket Layanan",value:"BUNDLE"},{text:"Layanan Satuan",value:"SINGLE"}],product:[],bundle:[]}}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.helper.CORPORATE=JSON.parse(e.$utility.getCookie("corporate")),t.next=1,e.processGetProduct();case 1:return t.next=2,e.processGetPackage();case 2:case"end":return t.stop()}},t)}))()},methods:{getCorporatePackage:o.packageMethods.getCorporatePackage,getCorporateProduct:o.productMethods.getCorporateProduct,processCancelSelection:function(){this.selected={type:"",unit:""},this.$emit("cancel")},procesSubmitSelection:function(){this.$emit("submit",{data:this.selected.unit,text:"["+this.selected.type+"] - "+this.selected.unit.name+" (Rp"+this.$utility.convertToRupiah("SINGLE"===this.selected.type?this.selected.unit.price:this.selected.unit.total_price)+")"})},processSetSelected:function(e,t){this.selected={type:e,unit:t}},processGetProduct:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark(function t(){var n,r,o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.helper.isLoading=!0,n={filter:[{key:"corporate_type",value:e.helper.CORPORATE.corporate_type},{key:"spot_id",value:e.helper.CORPORATE.spot_id}],pagination:{current_page:1,per_page:1e3}},t.next=1,e.getCorporateProduct(n);case 1:r=t.sent,o=r.values,e.options.product=o,e.helper.isLoading=!1,t.next=3;break;case 2:t.prev=2,c=t.catch(0),e.options.product=[],e.passErrorToParent(c),e.$utility.setErrorContextSentry(c),e.$sentry.captureMessage(c.message+" at processGetProduct in FormOptionsPackage"),e.helper.isLoading=!1;case 3:case"end":return t.stop()}},t,null,[[0,2]])}))()},processGetPackage:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark(function t(){var n,r,o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.helper.isLoading=!0,n={filter:[{key:"corporate_type",value:e.helper.CORPORATE.corporate_type},{key:"spot_id",value:e.helper.CORPORATE.spot_id}],pagination:{current_page:1,per_page:1e3}},t.next=1,e.getCorporatePackage(n);case 1:r=t.sent,o=r.values,e.options.bundle=o,e.helper.isLoading=!1,t.next=3;break;case 2:t.prev=2,c=t.catch(0),e.options.bundle=[],e.passErrorToParent(c),e.$utility.setErrorContextSentry(c),e.$sentry.captureMessage(c.message+" at processGetPackage in FormOptionsPackage"),e.helper.isLoading=!1;case 3:case"end":return t.stop()}},t,null,[[0,2]])}))()}}},l=n(38),component=Object(l.a)(c,function(){var e=this,t=e._self._c;return t("div",[t("div",{},[t("p",{staticClass:"font-weight-bold font-size-16"},[e._v("Pilih Layanan")]),e._v(" "),t("tab-bar",{attrs:{tabs:e.options.tab,has_divider:""},model:{value:e.helper.tab,callback:function(t){e.$set(e.helper,"tab",t)},expression:"helper.tab"}}),e._v(" "),"BUNDLE"===e.helper.tab?t("div",{staticClass:"row py-3"},e._l(e.options.bundle,function(n,r){return t("div",{key:"bundle-"+r,staticClass:"col-12 col-lg-6 p-3 cursor-pointer",attrs:{"data-testid":"bundle-"+r},on:{click:function(t){return e.processSetSelected("BUNDLE",n)}}},[t("div",{class:"rounded-lg p-3 border "+(n.id===e.selected.unit.id?"border-primary bg-primary-90":"")},[e._l(n.package_items,function(n,o){return t("img",{key:"image-"+r+"__"+o,staticClass:"rounded-lg",staticStyle:{"max-height":"128px"},attrs:{src:e.$utility.getBaseAssetUrl()+"/"+n.image_path}})}),e._v(" "),t("div",{staticClass:"d-flex justify-content-between my-2"},[t("p",{staticClass:"my-1 font-size-14 font-weight-bold"},[e._v("\n              "+e._s(n.name)+"\n            ")]),e._v(" "),t("p",{staticClass:"my-1 font-size-14"},[e._v("\n              Rp"+e._s(e.$utility.convertToRupiah(n.total_price))+"\n            ")])]),e._v(" "),t("div",{staticClass:"my-1"},[t("p",{staticClass:"my-1 font-size-12"},[e._v("\n              "+e._s(n.package_items.map(function(e){return e.name}).join("+"))+"\n            ")]),e._v(" "),t("p",{staticClass:"my-1 font-size-1"},[e._v("\n              "+e._s(n.description)+"\n            ")])])],2)])}),0):e._e(),e._v(" "),"SINGLE"===e.helper.tab?t("div",{staticClass:"row py-3"},e._l(e.options.product,function(n,r){return t("div",{key:"product-"+r,staticClass:"col-12 col-lg-4 p-3 cursor-pointer",attrs:{"data-testid":"product-"+r},on:{click:function(t){return e.processSetSelected("SINGLE",n)}}},[t("div",{class:"rounded-lg p-3 border "+(n.id===e.selected.unit.id?"border-primary bg-primary-90 shadows":"")},[t("img",{staticClass:"img-fluid rounded-lg",attrs:{src:e.$utility.getBaseAssetUrl()+"/"+n.image_path}}),e._v(" "),t("div",{staticClass:"d-flex justify-content-between my-2"},[t("p",{staticClass:"my-1 font-size-14 font-weight-bold"},[e._v("\n              "+e._s(n.name)+"\n            ")]),e._v(" "),t("p",{staticClass:"my-1 font-size-14"},[e._v("\n              Rp"+e._s(e.$utility.convertToRupiah(n.price))+"\n            ")])]),e._v(" "),t("div",{staticClass:"my-1"},[t("p",{staticClass:"my-1 font-size-12"},[e._v("\n              "+e._s(n.alias)+"\n            ")]),e._v(" "),t("p",{staticClass:"my-1 font-size-1"},[e._v("\n              "+e._s(n.description)+"\n            ")])])])])}),0):e._e(),e._v(" "),t("div",{staticClass:"mt-3"},[t("hr"),e._v(" "),t("div",{staticClass:"d-flex justify-content-between w-100"},[t("div",[t("p",{staticClass:"my-1 text-muted font-size-12"},[e._v("Layanan dipilih:")]),e._v(" "),e.selected.type?t("p",{staticClass:"my-1 font-weight-bold font-size-14"},[e._v("\n            ["+e._s(e.selected.type)+"] - "+e._s(e.selected.unit.name)+" (Rp"+e._s(e.$utility.convertToRupiah("SINGLE"===e.selected.type?e.selected.unit.price:e.selected.unit.total_price))+")\n          ")]):e._e()]),e._v(" "),t("div",{staticClass:"text-right mt-2"},[t("active-button",{attrs:{additional_class:"px-5",text:"Batal",type:"outline",variant:"secondary"},on:{click:e.processCancelSelection}}),e._v(" "),t("active-button",{attrs:{additional_class:"px-5",text:"Pilih",is_disabled:e.helper.isLoading},on:{click:e.procesSubmitSelection}})],1)])])],1)])},[],!1,null,null,null);t.default=component.exports}}]);