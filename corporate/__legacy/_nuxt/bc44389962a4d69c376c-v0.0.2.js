(window.webpackJsonp=window.webpackJsonp||[]).push([[119],{861:function(e,t,n){"use strict";n.r(t);var r=n(1),o=(n(12),n(9),n(42),n(22),n(429)),c={components:{ActiveButton:function(){return n.e(0).then(n.bind(null,822))},DisabledButton:function(){return n.e(7).then(n.bind(null,826))},PlainModal:function(){return Promise.all([n.e(1),n.e(2),n.e(4),n.e(6),n.e(5)]).then(n.bind(null,823))}},props:{data:{default:function(){return{id:""}}}},data:function(){return{invoice:{calculated_amount:4e6},helper:{is_loading:!1},modal:{warning:!1}}},methods:{checkMembershipInvoice:o.paymentMembershipMethods.checkMembershipInvoice,deleteCorporateMembershipInvoice:o.paymentMembershipMethods.deleteCorporateMembershipInvoice,setPayloadCheck:function(){return{corporate_id:this.data.id}},setPayloadDelete:function(){return{invoice_id:this.invoice.id}},toggleModalWarning:function(){this.modal.warning=!this.modal.warning},processcheckInvoice:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark(function t(){var n,r,o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.helper.is_loading=!0,t.prev=1,n=e.setPayloadCheck(),t.next=2,e.checkMembershipInvoice(n);case 2:r=t.sent,(o=r.values).length>0?(e.invoice=o[0],e.toggleModalWarning(),e.helper.is_loading=!1):e.$router.push("/payment/review"),t.next=4;break;case 3:t.prev=3,c=t.catch(1),e.helper.is_loading=!1,e.$utility.setErrorContextSentry(c),e.$sentry.captureMessage(c.message+" at processcheckInvoice in LatestInvoiceCorporate");case 4:case"end":return t.stop()}},t,null,[[1,3]])}))()},processDeleteInvoice:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.helper.is_loading=!0,t.prev=1,n=e.setPayloadDelete(),t.next=2,e.deleteCorporateMembershipInvoice(n);case 2:e.$router.push("/payment/review"),t.next=4;break;case 3:t.prev=3,r=t.catch(1),e.$utility.setErrorContextSentry(r),e.$sentry.captureMessage(r.message+" at processDeleteInvoice in LatestInvoiceCorporate");case 4:e.helper.is_loading=!1;case 5:case"end":return t.stop()}},t,null,[[1,3]])}))()}}},l=n(38),component=Object(l.a)(c,function(){var e=this,t=e._self._c;return t("div",[e.helper.is_loading?t("disabled-button",{attrs:{id:"btn-loader__invoice",test_id:"btn-loader__invoice"}}):t("active-button",{attrs:{text:"Lakukan Pembayaran",id:"btn-generate__invoice",test_id:"btn-generate__invoice",text_color:"dark",additional_class:"border "},on:{click:e.processcheckInvoice}}),e._v(" "),t("plain-modal",{model:{value:e.modal.warning,callback:function(t){e.$set(e.modal,"warning",t)},expression:"modal.warning"}},[t("p",{staticClass:"m-0 font-weight-bold font-size-16"},[t("i",{staticClass:"ic-alert-circle"}),e._v(" Terdapat Tagihan yang Belum Lunas!\n    ")]),e._v(" "),t("p",{staticClass:"m-0 mt-3"},[e._v("\n      Anda memiliki tagihan yang belum lunas sebesar\n      "),t("strong",[e._v("\n        Rp"+e._s(e.$utility.convertToRupiah(e.invoice.calculated_amount))+",-\n      ")]),e._v("\n      anda tidak dapat membuat tagihan baru. Anda dapat membatalkan atau\n      melunaskan tagihan tersebut\n    ")]),e._v(" "),t("div",{staticClass:"mt-3"},[t("div",{staticClass:"d-flex justify-content-end"},[t("active-button",{attrs:{text:"Bayar Tagihan",id:"btn-pay__invoice",test_id:"btn-pay__invoice",size:"sm",is_disabled:e.helper.is_loading},on:{click:function(t){return e.$router.push("/payment")}}}),e._v(" "),t("active-button",{attrs:{text:"Batalkan dan Buat Baru",id:"btn-pay__invoice",test_id:"btn-pay__invoice",size:"sm",additional_class:"ml-1",type:"outline",is_disabled:e.helper.is_loading},on:{click:e.processDeleteInvoice}})],1)])])],1)},[],!1,null,null,null);t.default=component.exports}}]);