(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{871:function(t,e,r){"use strict";r.r(e);r(166);var o=r(1),n=(r(12),r(93),r(9),r(22),{props:{motorcycle_bill:{default:0},motorcycle_sum:{default:0},car_bill:{default:0},car_sum:{default:0},new_card_sum:{dafault:0}},data:function(){return{corporate:{admin_charge:0,discount:0},helper:{is_loading:!1,corporate:{},sub_total:0,grand_total:0,discount_count:0}}},watch:{motorcycle_bill:function(){this.processCountBill()},motorcycle_sum:function(){this.processCountBill()},car_bill:function(){this.processCountBill()},car_sum:function(){this.processCountBill()},new_card_sum:function(){this.processCountBill()}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.helper.corporate=JSON.parse(t.$utility.getCookie("corporate")),e.next=1,t.getCorporateProfile();case 1:t.processCountBill();case 2:case"end":return e.stop()}},e)}))()},methods:{getProfileCorporate:r(429).corporateMembershipMethods.getProfileCorporate,setPayloadGet:function(){return{id:this.helper.corporate.id,spot_id:this.helper.corporate.spot_id}},processCountBill:function(){this.processCountSubTotal(),this.processCountGrandTotal()},processCountSubTotal:function(){var t=parseInt(this.motorcycle_bill)+parseInt(this.car_bill)+this.corporate.card_charge*parseInt(this.new_card_sum);"amount"===this.corporate.discount_type&&this.corporate.discount>0?this.helper.discount_count=t-parseInt(this.corporate.discount):this.corporate.discount>0?this.helper.discount_count=t*(parseInt(this.corporate.discount)/100):this.helper.discount_count=0,this.helper.sub_total=t-parseInt(this.helper.discount_count)},processCountGrandTotal:function(){this.helper.grand_total=parseInt(this.helper.sub_total)+parseInt(this.corporate.admin_charge)+this.corporate.tax/100*this.helper.sub_total},getCorporateProfile:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark(function e(){var r,o,n,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.helper.is_loading=!0,e.prev=1,t.helper.is_error=!1,r=t.setPayloadGet(),e.next=2,t.getProfileCorporate(r);case 2:o=e.sent,n=o.values,t.corporate=n,t.helper.is_loading=!1,e.next=4;break;case 3:e.prev=3,c=e.catch(1),t.helper.is_error=!0,t.$utility.setErrorContextSentry(c),t.$sentry.captureMessage(c.message+" at getCorporateProfile in OverviewPaymentReview"),t.helper.is_loading=!1;case 4:case"end":return e.stop()}},e,null,[[1,3]])}))()}}}),c=r(38),component=Object(c.a)(n,function(){var t=this,e=t._self._c;return e("div",{staticClass:"bg-white rounded px-4 py-3 mb-3 bg-white"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-lg-7"},[e("p",{staticClass:"my-0 py-2"},[e("strong",{staticClass:"font-size-18",attrs:{"data-testid":"overview-motorcyle__bill"}},[t._v("\n          Member Motor\n          "+t._s(t.$utility.convertToRupiah(t.motorcycle_bill))+"\n        ")]),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"font-size-16",attrs:{"data-testid":"overview-motorcyle__sum"}},[t._v("\n          "+t._s(t.$utility.convertToRupiah(t.motorcycle_sum))+" Pengguna\n        ")])]),t._v(" "),e("p",{staticClass:"my-0 py-2"},[e("strong",{staticClass:"font-size-18",attrs:{"data-testid":"overview-car__bill"}},[t._v("\n          Member Mobil "+t._s(t.$utility.convertToRupiah(t.car_bill))+"\n        ")]),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"font-size-16",attrs:{"data-testid":"overview-car__sum"}},[t._v("\n          "+t._s(t.$utility.convertToRupiah(t.car_sum))+" Pengguna\n        ")])])]),t._v(" "),e("div",{staticClass:"col-md-5 px-0 row"},[e("div",{staticClass:"col-12 col-lg-6 px-0"},[e("p",{staticClass:"my-0 py-2"},[e("strong",{staticClass:"text-left font-size-18",attrs:{"data-testid":"overview-card__bill"}},[t._v("\n            Harga Kartu\n            "+t._s(t.$utility.convertToRupiah(parseInt(t.new_card_sum)*parseInt(t.corporate.card_charge)))+"\n            "),e("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"ic-info-circle text-muted font-weight-normal",attrs:{title:"Harga kartu hanya untuk member baru"}})]),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"font-size-16",attrs:{"data-testid":"overview-card__sum"}},[t._v("\n            "+t._s(t.$utility.convertToRupiah(t.new_card_sum))+" Pengguna\n          ")])]),t._v(" "),t.corporate.discount>0?e("p",{staticClass:"my-0 py-2"},[e("strong",{staticClass:"font-size-18"},[t._v("Diskon")]),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"font-size-16",attrs:{"data-testid":"overview-discount"}},["amount"!==t.corporate.discount_type?e("span",{attrs:{"data-testid":"overview-discount_percentage"}},[t._v("\n              "+t._s(t.corporate.discount)+"% :\n              "+t._s(t.$utility.convertToRupiah(t.helper.discount_count))+"\n            ")]):e("span",{attrs:{"data-testid":"overview-discount_amount"}},[t._v("\n              "+t._s(t.$utility.convertToRupiah(t.corporate.discount))+"\n            ")])])]):t._e(),t._v(" "),e("p",{staticClass:"my-0 py-2 text-left"},[e("strong",{staticClass:"font-size-18"},[t._v("Sub Total")]),t._v(" "),e("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip"}],staticClass:"ic-info-circle text-muted font-weight-normal font-size-18 text-left",attrs:{title:"Sub Total belum termasuk pajak dan biaya admin"}}),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"font-size-16",attrs:{"data-testid":"overview-subtotal"}},[e("span",{attrs:{"data-testid":"overview-subtotal"}},[t._v("\n              Rp "+t._s(t.$utility.convertToRupiah(t.helper.sub_total))+"\n            ")])])])]),t._v(" "),e("div",{staticClass:"col-12 col-lg-6 px-0"},[e("p",{staticClass:"my-0 py-2"},[e("strong",{staticClass:"font-size-18"},[t._v("Pajak")]),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"font-size-16",attrs:{"data-testid":"overview-tax"}},[t._v("\n            "+t._s(t.$utility.convertToRupiah(t.corporate.tax))+"%:\n            "+t._s(t.$utility.convertToRupiah(t.corporate.tax/100*t.helper.sub_total))+"\n          ")])]),t._v(" "),e("p",{staticClass:"my-0 py-2"},[e("strong",{staticClass:"font-size-18"},[t._v("Admin")]),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"font-size-16",attrs:{"data-testid":"overview-admin_charge"}},[t._v("\n            "+t._s(t.$utility.convertToRupiah(t.corporate.admin_charge))+"\n          ")])]),t._v(" "),e("p",{staticClass:"my-0 py-2"},[e("strong",{staticClass:"font-size-18"},[t._v("Grand Total")]),t._v(" "),e("br"),t._v(" "),e("span",{staticClass:"font-size-16",attrs:{"data-testid":"overview-grand_total"}},[t._v("\n            Rp "+t._s(t.$utility.convertToRupiah(t.helper.grand_total))+"\n          ")])])])])])])},[],!1,null,null,null);e.default=component.exports}}]);